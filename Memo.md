# JPA

## 1.2 패러다임의 불일치

객체와 관계형 데이터베이스는 지향하는 목적이 서로 다르므로 둘의 기능과 표현 방법도 다르다. 이것을 객체와 관계형 데이터베이스의 패러다임 불일치 문제라 함.





## 3.3 엔티티의 생명주기

* 비영속(new / transient): 영속성 컨텍스트와 전혀 관계가 없는 상태

  엔티티 객제를 생성만 한 상태

* 영속(managed): 영속성 컨텍스트에 저장된 상태

  엔티티 매너저를 통해 엔티티를 영속성 컨텍스트에 저장

  `em.persist(member);`

* 준영속(detached): 영속성 컨텍스트에 저장되었다가 분리된 상태

  영속성 컨텍스트가 관리하던 영속 상태의 엔티티를 영속성 컨텍스트가 관리하지 않으면 준영속 상태가 됨

  `em.detach();`

* 삭제(removed): 삭제된 상태

  엔티티를 영속성 컨텍스트와 데이터베이스에서 삭제

  `em.remove(member);`



## 3.6

3.6.4 준영속 상태의 특징

* 거의 비영속 상태에 가까움
* 식별자 값을 가지고 있음
  * 비영속 상태는 식별자 값이 없을 수도 있지만, 준영속 상태는 이미 한 번 영속 상태였으므로 반드시 식별자 값을 가지고 있음
* 지연 로딩을 할 수 있음



3.6.5 병합 merge()

* 병합은 준영속 엔티티 뿐만 아니라 비영속 엔티티도 영속 상태로 만들 수 있음
  * 단, 대상 객체가 영속 엔티티가 되는 것이 아닌 영속 엔티티가 된 객체를 반환한다.
